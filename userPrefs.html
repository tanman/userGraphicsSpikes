<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>User Preferences</title>
</head>
<body>
  <h1><span id="lightingModePref"></span> Mode</h1>
  <h1>Shaking <span id="motionPref"></span> Allowed</h1>
  <h1><span id="vibrateAvail"></span> Vibrate</h1>
  <!-- <h1>Vibration</h1> -->

  <script>
    // light mode
    let lightMode = document.getElementById("lightingModePref");
    let lightQuery = window.matchMedia("(prefers-color-scheme: light)")
    if (lightQuery.matches) lightMode.innerText = "Light"
    let darkQuery = window.matchMedia("(prefers-color-scheme: dark)")
    if (darkQuery.matches) lightMode.innerText = "Dark"

    // motion
    let motionPref = document.getElementById("motionPref");
    let motionQuery = window.matchMedia("(prefers-reduced-motion: reduce)");
    !motionQuery || motionQuery.matches ? motionPref.innerText = "isn't" : motionPref.innerText = "is"

    // vibration
    let vibrateAvail = document.getElementById("vibrateAvail");
    navigator.vibrate ? vibrateAvail.innerText = "(vibration api supported) Can" : vibrateAvail.innerText = "(vibration api not supported) Can't"
  </script>
</body>
</html>